@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ CSS Ø¨Ø±Ø§ÛŒ Ú©Ù†ØªØ±Ù„ Ø¢Ø³Ø§Ù† Ø§Ù†Ø¯Ø§Ø²Ù‡ Ùˆ ÙØ§ØµÙ„Ù‡ */
  --grid-size: 400px; /* Ø§Ù†Ø¯Ø§Ø²Ù‡ Ú©Ù„ÛŒ Ø¨ÙˆØ±Ø¯ */
  --grid-count: 4;
  --cell-gap: 15px;
  --cell-size: calc((var(--grid-size) - (var(--cell-gap) * (var(--grid-count) + 1))) / var(--grid-count));
}

body {
    margin: 0;
    font-family: "Clear Sans", "Helvetica Neue", Arial, sans-serif;
    background-color: #faf8ef;
}

/* --- Ú†ÛŒØ¯Ù…Ø§Ù† Ø§ØµÙ„ÛŒ --- */
.game-wrapper {
  width: 100%;
  max-width: var(--grid-size);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  outline: none; /* Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©ÛŒØ¨ÙˆØ±Ø¯ */
}

.game-container {
  width: 100%;
}

/* --- Ù‡Ø¯Ø± Ùˆ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª --- */
.game-header, .game-intro {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding: 0 5px;
}
.title { font-size: 60px; font-weight: bold; margin: 0; color: #776e65; }
.scores-container { display: flex; gap: 8px; }
.score-box { background-color: #bbada0; color: #eee4da; padding: 8px 20px; border-radius: 3px; font-size: 13px; font-weight: bold; text-align: center; }
.score-box span { color: white; font-size: 25px; display: block; }
.game-intro-text { margin: 0; font-size: 16px; color: #776e65; }
.restart-button, .exit-button {
  background-color: #8f7a66; color: white; border: none; padding: 10px 20px;
  border-radius: 5px; font-weight: bold; cursor: pointer; transition: background-color 0.2s;
}
.restart-button:hover, .exit-button:hover { background-color: #7a6858; }

/* --- ðŸ”¥ FIX: Ø¨ÙˆØ±Ø¯ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ú†ÛŒØ¯Ù…Ø§Ù† Ø¯Ù‚ÛŒÙ‚ --- */
.board-container {
  position: relative;
  background-color: #bbada0;
  border-radius: 6px;
  width: var(--grid-size);
  height: var(--grid-size);
  box-sizing: border-box;
}

.grid-background {
  display: grid;
  grid-template-columns: repeat(var(--grid-count), var(--cell-size));
  grid-template-rows: repeat(var(--grid-count), var(--cell-size));
  gap: var(--cell-gap);
  padding: var(--cell-gap);
}

.grid-cell {
  background-color: rgba(238, 228, 218, 0.35);
  border-radius: 3px;
}

.tile-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.tile-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  width: var(--cell-size);
  height: var(--cell-size);
  padding: var(--cell-gap);
  box-sizing: content-box; /* Ø¨Ø³ÛŒØ§Ø± Ù…Ù‡Ù… Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ø§Øª ØµØ­ÛŒØ­ */
  transition: transform 100ms ease-in-out;
}

.tile {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  border-radius: 3px;
  font-weight: bold;
  background-color: #cdc1b4;
  color: #776e65;
  font-size: 45px;
}

/* --- Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù‡Ø§ --- */
@keyframes appear { from { transform: scale(0); } to { transform: scale(1); } }
@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

.tile-new > .tile { animation: appear 200ms ease-in-out; }
.tile-merged > .tile { animation: pulse 200ms ease-in-out; }

/* --- Ø±Ù†Ú¯ Ø¨Ù†Ø¯ÛŒ Ú©Ø§Ø´ÛŒ Ù‡Ø§ --- */
.tile.text-small { font-size: 35px; }
.tile.text-medium { font-size: 45px; }
.tile.text-large { font-size: 55px; }
.tile.tile-8, .tile.tile-16, .tile.tile-32, .tile.tile-64, .tile.tile-128, .tile.tile-256, .tile.tile-512, .tile.tile-1024, .tile.tile-2048 { color: #f9f6f2; }
.tile-2 { background: #eee4da; } .tile-4 { background: #ede0c8; } .tile-8 { background: #f2b179; }
.tile-16 { background: #f59563; } .tile-32 { background: #f67c5f; } .tile-64 { background: #f65e3b; }
.tile-128 { background: #edcf72; } .tile-256 { background: #edcc61; } .tile-512 { background: #edc850; }
.tile-1024 { background: #edc53f; } .tile-2048 { background: #edc22e; }

/* --- Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ --- */
@media (max-width: 420px) {
  :root {
    --grid-size: 90vw;
  }
  .title { font-size: 40px; }
  .score-box { padding: 5px 10px; min-width: 60px; }
  .score-box span { font-size: 18px; }
  .tile { font-size: 30px !important; }
}